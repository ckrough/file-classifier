<?xml version="1.0" encoding="UTF-8"?>
<prompt>
  <instruction>Construct the directory path and filename for the following normalized metadata.</instruction>

  <input>
    <field name="domain">{domain}</field>
    <field name="category">{category}</field>
    <field name="vendor_name">{vendor_name}</field>
    <field name="doctype">{doctype}</field>
    <field name="subject">{subject}</field>
    <field name="date">{date}</field>
    <field name="file_extension">{file_extension}</field>
  </input>

  <output>
    <field name="directory_path">Domain/Category/Vendor/ with special handling for Tax</field>
    <field name="filename">doctype-vendor-subject-YYYYMMDD.ext</field>
    <field name="full_path">directory_path + filename</field>
  </output>

  <reminders>
    <reminder>Vendor directory names use lowercase with underscores</reminder>
    <reminder>Filenames use lowercase with hyphens</reminder>
    <reminder>Tax documents require year subdirectory: tax/category/year/</reminder>
    <reminder>Preserve the file extension provided</reminder>
  </reminders>
</prompt>
