name: Setup file-classifier dev environment
description: Create a Python virtualenv and install runtime + dev dependencies
tags:
  - python
  - setup
  - dev
arguments:
  - name: project_dir
    description: Path to the file-classifier repository
    default_value: "."
command: |
  set -e
  cd "{{project_dir}}"
  if [ ! -d ".venv" ]; then
    python3 -m venv .venv
  fi
  source .venv/bin/activate
  pip install --upgrade pip
  pip install -e ".[dev]"
